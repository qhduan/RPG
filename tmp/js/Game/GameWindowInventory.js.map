{"version":3,"sources":["../../../src/Game/GameWindowInventory.js"],"names":[],"mappings":"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","file":"GameWindowInventory.js","sourcesContent":["/*\n\nA-RPG Game, Built using JavaScript ES6\nCopyright (C) 2015 qhduan(http://qhduan.com)\n\nThis program is free software: you can redistribute it and/or modify\nit under the terms of the GNU General Public License as published by\nthe Free Software Foundation, either version 3 of the License, or\n(at your option) any later version.\n\nThis program is distributed in the hope that it will be useful,\nbut WITHOUT ANY WARRANTY; without even the implied warranty of\nMERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\nGNU General Public License for more details.\n\nYou should have received a copy of the GNU General Public License\nalong with this program.  If not, see <http://www.gnu.org/licenses/>.\n\n*/\n\n(function () {\n  \"use strict\";\n\n  let win = Game.windows.inventory = Game.Window.create(\"inventoryWindow\");\n\n  win.html = `\n    <div class=\"window-box\">\n      <div id=\"inventoryWindowItemBar\">\n\n        <button id=\"inventoryWindowClose\" class=\"brownButton\">关闭</button>\n        <button id=\"inventoryWindowStatus\" class=\"brownButton\">状态</button>\n\n        <button id=\"inventoryWindowAll\" class=\"brownButton\">全部</button>\n        <button id=\"inventoryWindowWeapon\" class=\"brownButton\">武器</button>\n        <button id=\"inventoryWindowArmor\" class=\"brownButton\">护甲</button>\n        <button id=\"inventoryWindowPotion\" class=\"brownButton\">药水</button>\n        <button id=\"inventoryWindowMaterial\" class=\"brownButton\">材料</button>\n        <button id=\"inventoryWindowBook\" class=\"brownButton\">书籍</button>\n        <button id=\"inventoryWindowMisc\" class=\"brownButton\">其他</button>\n      </div>\n\n      <span id=\"inventoryWindowGold\"></span>\n\n      <div style=\"overflow: auto; height: 300px;\">\n        <table border=\"0\" cellspacing=\"0\" cellpadding=\"0\">\n          <thead>\n            <tr>\n              <td style=\"width: 40px;\"></td>\n              <td style=\"width: 120px;\"></td>\n              <td style=\"width: 30px;\"></td>\n              <td style=\"width: 30px;\"></td>\n              <td></td>\n              <td style=\"width: 60px;\"></td>\n            </tr>\n          </thead>\n          <tbody id=\"inventoryWindowTable\"></tbody>\n        </table>\n      </div>\n    </div>\n  `;\n\n  win.css = `\n    #inventoryWindowItemBar > button {\n      width: 60px;\n      height: 40px;\n      font-size: 16px;\n      margin-left: 5px;\n      margin-right: 5px;\n      margin-top: 0px;\n      margin-bottom: 5px;\n    }\n\n    #inventoryWindowClose {\n      float: right;\n    }\n\n    #inventoryWindowStatus {\n      float: right;\n    }\n\n    .inventoryWindow table {\n      width: 100%;\n    }\n\n    .inventoryWindow table img {\n      width: 100%;\n      height: 100%;\n    }\n\n    .inventoryWindow table button {\n      width: 60px;\n      height: 40px;\n      font-size: 16px;\n    }\n\n    .inventoryWindow td {\n      border-bottom:1px solid #ccc;\n    }\n\n    .inventoryWindow tr:nth-child(odd) {\n      background-color: #ccc;\n    }\n\n    #inventoryWindowGold {\n      position: absolute;\n      right: 100px;\n      bottom: 30px;\n      font-size: 20px;\n      color: black;\n    }\n  `;\n\n  let inventoryWindowClose = win.querySelector(\"button#inventoryWindowClose\");\n  let inventoryWindowStatus = win.querySelector(\"button#inventoryWindowStatus\");\n\n  let inventoryWindowAll = win.querySelector(\"button#inventoryWindowAll\");\n  let inventoryWindowWeapon = win.querySelector(\"button#inventoryWindowWeapon\");\n  let inventoryWindowArmor = win.querySelector(\"button#inventoryWindowArmor\");\n  let inventoryWindowPotion = win.querySelector(\"button#inventoryWindowPotion\");\n  let inventoryWindowMaterial = win.querySelector(\"button#inventoryWindowMaterial\");\n  let inventoryWindowBook = win.querySelector(\"button#inventoryWindowBook\");\n  let inventoryWindowMisc = win.querySelector(\"button#inventoryWindowMisc\");\n\n  let inventoryWindowGold = win.querySelector(\"span#inventoryWindowGold\");\n  let inventoryWindowTable = win.querySelector(\"#inventoryWindowTable\");\n\n  inventoryWindowClose.addEventListener(\"click\", function (event) {\n    win.hide();\n  });\n\n  inventoryWindowStatus.addEventListener(\"click\", function (event) {\n    win.hide();\n    Game.windows.status.open();\n  });\n\n  win.whenUp([\"tab\"], function () {\n    setTimeout(function () {\n      win.hide();\n      Game.windows.status.open();\n    }, 20);\n  });\n\n  inventoryWindowAll.addEventListener(\"click\", function (event) {\n    win.open();\n  });\n\n  inventoryWindowWeapon.addEventListener(\"click\", function (event) {\n    win.open(\"sword|spear|bow\");\n  });\n\n  inventoryWindowArmor.addEventListener(\"click\", function (event) {\n    win.open(\"head|body|feet\");\n  });\n\n  inventoryWindowPotion.addEventListener(\"click\", function (event) {\n    win.open(\"potion\");\n  });\n\n  inventoryWindowMaterial.addEventListener(\"click\", function (event) {\n    win.open(\"material\");\n  });\n\n  inventoryWindowBook.addEventListener(\"click\", function (event) {\n    win.open(\"book|scroll|letter\");\n  });\n\n  inventoryWindowMisc.addEventListener(\"click\", function (event) {\n    win.open(\"misc\");\n  });\n\n  let lastFilter = null;\n  let lastSelect = -1;\n\n  win.assign(\"open\", function (filter, select) {\n\n    if (typeof select == \"undefined\") {\n      select = -1;\n    }\n\n    lastFilter = filter;\n    lastSelect = select;\n\n    let defaultColor = \"white\";\n    let activeColor = \"yellow\";\n\n    inventoryWindowAll.style.color = defaultColor;\n    inventoryWindowWeapon.style.color = defaultColor;\n    inventoryWindowArmor.style.color = defaultColor;\n    inventoryWindowPotion.style.color = defaultColor;\n    inventoryWindowMaterial.style.color = defaultColor;\n    inventoryWindowBook.style.color = defaultColor;\n    inventoryWindowMisc.style.color = defaultColor;\n\n    if (filter == null) {\n      inventoryWindowAll.style.color = activeColor;\n    } else if (filter.match(/sword/)) {\n      inventoryWindowWeapon.style.color = activeColor;\n    } else if (filter.match(/head/)) {\n      inventoryWindowArmor.style.color = activeColor;\n    } else if (filter.match(/potion/)) {\n      inventoryWindowPotion.style.color = activeColor;\n    } else if (filter.match(/material/)) {\n      inventoryWindowMaterial.style.color = activeColor;\n    } else if (filter.match(/book/)) {\n      inventoryWindowBook.style.color = activeColor;\n    } else if (filter.match(/misc/)) {\n      inventoryWindowMisc.style.color = activeColor;\n    }\n\n    inventoryWindowGold.textContent = Game.hero.data.gold + \"G\";\n\n    let table = \"\";\n    let index = 0;\n    let ids = Object.keys(Game.hero.data.items);\n    ids.sort();\n    ids.forEach(function (itemId) {\n      let itemCount = Game.hero.data.items[itemId];\n      let item = Game.items[itemId];\n      let equipment = null;\n\n      Sprite.each(Game.hero.data.equipment, function (element, key) {\n        if (element == item.id)\n          equipment = key;\n      });\n\n      if (filter && filter.indexOf(item.data.type) == -1)\n        return;\n\n      let line = \"\";\n\n      if (select == index) {\n        line += `<tr style=\"background-color: green;\">\\n`;\n      } else {\n        line += `<tr>\\n`;\n      }\n\n      if (item.icon) {\n        line += `  <td><img alt=\"\" src=\"${item.icon.src}\"></td>\\n`;\n      } else {\n        line += `  <td> </td>\\n`;\n      }\n      line += `  <td>${equipment?\"*\":\"\"}${item.data.name}</td>\\n`;\n      line += `  <td style=\"text-align: center;\">${item.data.value}G</td>\\n`;\n      line += `  <td style=\"text-align: center;\">${itemCount}</td>\\n`;\n      line += `  <td>${item.data.description}</td>\\n`;\n      line += `  <td><button data-id=\"${itemId}\" class=\"brownButton\">操作</button></td>\\n`;\n      line += \"</tr>\\n\";\n      table += line;\n      index++;\n    });\n\n    inventoryWindowTable.innerHTML = table;\n    win.show();\n  });\n\n  win.whenUp([\"enter\"], function () {\n    let buttons = inventoryWindowTable.querySelectorAll(\"button\");\n    if (lastSelect >= 0 && lastSelect < buttons.length) {\n      buttons[lastSelect].click();\n    }\n  });\n\n  win.whenUp([\"up\", \"down\"], function (key) {\n    let count = inventoryWindowTable.querySelectorAll(\"button\").length;\n\n    if (lastSelect == -1) {\n      if (key == \"down\") {\n        win.open(lastFilter, 0);\n      } else if (key == \"up\") {\n        win.open(lastFilter, count - 1);\n      }\n    } else {\n      if (key == \"down\") {\n        let select = lastSelect + 1;\n        if (select >= count) {\n          select = 0;\n        }\n        win.open(lastFilter, select);\n      } else if (key == \"up\") {\n        let select = lastSelect - 1;\n        if (select < 0) {\n          select = count - 1;\n        }\n        win.open(lastFilter, select);\n      }\n    }\n  });\n\n  inventoryWindowTable.addEventListener(\"click\", function (event) {\n    let itemId = event.target.getAttribute(\"data-id\");\n    if (itemId && Game.hero.data.items.hasOwnProperty(itemId)) {\n      let item = Game.items[itemId];\n      let itemCount = Game.hero.data.items[itemId];\n      let equipment = null;\n\n      Sprite.each(Game.hero.data.equipment, function (element, key) {\n        if (element == item.id)\n          equipment = key;\n      });\n\n      let options = {};\n      if (item.data.type.match(/potion/)) {\n        options[\"使用\"] = \"use\";\n        options[\"快捷键\"] = \"shortcut\";\n      } else if (item.data.type.match(/sword|spear|bow|head|body|feet|neck|ring/)) {\n        if (equipment)\n          options[\"卸下\"] = \"takeoff\";\n        else\n          options[\"装备\"] = \"puton\";\n      } else if (item.data.type.match(/book/)) {\n        options[\"阅读\"] = \"read\";\n      }\n\n      options[\"丢弃\"] = \"drop\";\n\n      Game.choice(options, function (choice) {\n        switch (choice) {\n          case \"puton\":\n            let type = item.data.type;\n            if (type.match(/sword|spear|bow/)) {\n              type = \"weapon\";\n            }\n            Game.hero.data.equipment[type] = item.id;\n            return win.open(lastFilter);\n            break;\n          case \"takeoff\":\n            if (item.data.type.match(/sword|spear|bow/))\n              Game.hero.data.equipment.weapon = null;\n            else\n              Game.hero.data.equipment[item.data.type] = null;\n            return win.open(lastFilter);\n            break;\n          case \"use\":\n            if (item.heroUse) {\n              item.heroUse();\n            }\n            break;\n          case \"read\":\n            if (item.heroUse) {\n              item.heroUse();\n            }\n            break;\n          case \"drop\":\n            if (equipment) {\n              Game.hero.data.equipment[equipment] = null;\n            }\n\n            Game.addBag(Game.hero.x ,Game.hero.y).then((bag) => {\n              if (bag.inner.hasOwnProperty(itemId)) {\n                bag.inner[itemId] += itemCount;\n              } else {\n                bag.inner[itemId] = itemCount;\n              }\n            });\n\n            delete Game.hero.data.items[itemId];\n\n            Game.hero.data.bar.forEach(function (element, index, array) {\n              if (element && element.id == itemId) {\n                array[index] = null;\n              }\n            });\n\n            Game.windows.interface.refresh();\n            return win.open(lastFilter);\n            break;\n          case \"shortcut\":\n            Game.choice({\n              1:0,\n              2:1,\n              3:2,\n              4:3,\n              5:4,\n              6:5,\n              7:6,\n              8:7\n            }, function (choice) {\n              if (Number.isFinite(choice) && choice >= 0) {\n                Game.hero.data.bar[choice] = {\n                  id: item.id,\n                  type: \"item\"\n                };\n                Game.windows.interface.refresh();\n              }\n            });\n            break;\n        }\n      });\n\n    }\n  });\n\n  win.whenUp([\"esc\"], function () {\n    setTimeout(function () {\n      win.hide();\n    }, 20);\n  });\n\n  win.whenUp([\"left\", \"right\"], function (key) {\n    if (key == \"right\") {\n      let filter = lastFilter;\n      if (filter == null) {\n        filter = \"sword|spear|bow\";\n      } else if (filter.match(/sword/)) {\n        filter = \"head|body|feet\";\n      } else if (filter.match(/head/)) {\n        filter = \"potion\";\n      } else if (filter.match(/potion/)) {\n        filter = \"material\";\n      } else if (filter.match(/material/)) {\n        filter = \"book|scroll|letter\";\n      } else if (filter.match(/book/)) {\n        filter = \"misc\";\n      } else if (filter.match(/misc/)) {\n        filter = null;\n      }\n      win.open(filter, -1);\n    } else if (key == \"left\") {\n      let filter = lastFilter;\n      if (filter == null) {\n        filter = \"misc\";\n      } else if (filter.match(/sword/)) {\n        filter = null;\n      } else if (filter.match(/head/)) {\n        filter = \"sword|spear|bow\";\n      } else if (filter.match(/potion/)) {\n        filter = \"head|body|feet\";\n      } else if (filter.match(/material/)) {\n        filter = \"potion\";\n      } else if (filter.match(/book/)) {\n        filter = \"material\";\n      } else if (filter.match(/misc/)) {\n        filter = \"book|scroll|letter\";\n      }\n      win.open(filter, -1);\n    }\n  });\n\n\n})();\n"]}